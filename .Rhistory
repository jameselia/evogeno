[{000214A0-0000-0000-C000-000000000046}]
Prop3=19,11
[InternetShortcut]
IDList=
URL=https://jameselia.github.io/evogeno/
index.rmd
install.packages("tidyverse")
library(tidyverse)
download.file(url="https://ndownloader.figshare.com/files/2292169",
destfile = "data/portal_data_joined.csv")
download.file(url="https://ndownloader.figshare.com/files/2292169"
destfile = "data/portal_data_joined.csv"
download.file(url="https://ndownloader.figshare.com/files/2292169",
destfile = "data/portal_data_joined.csv")
download.file(url="https://ndownloader.figshare.com/files/2292169", destfile = "data/portal_data_joined.csv")
library(tidyverse)
download.file(url="https://ndownloader.figshare.com/files/2292169",
destfile = "data/portal_data_joined.csv")
library(tidyverse)
download.file(url="https://ndownloader.figshare.com/files/2292169",
destfile = "data/portal_data_joined.csv")
download.file(url="https://ndownloader.figshare.com/files/2292169",
destfile = C:/Users/eliaj/OneDrive/Documents/UMass)
download.file(url="https://ndownloader.figshare.com/files/2292169",
destfile = "C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
surveys <- read_csv("data/portal_data_joined.csv")
surveys <- read_csv("C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
head(surveys)
download.file(url = "https://ndownloader.figshare.com/files/2292169",
destfile = "C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
surveys <- read.csv("data_raw/portal_data_joined.csv")
head(surveys)
download.file(url = "https://ndownloader.figshare.com/files/2292169",
destfile = "C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
surveys <- read.csv("data_raw/portal_data_joined.csv")
head(surveys)
View(surveys)
download.file(url = "https://ndownloader.figshare.com/files/2292169",
destfile = "C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
surveys <- read.csv("data_raw/portal_data_joined.csv")
head(surveys)
View(surveys)
str(surveys)
str(surveys)
data.frame(surveys_200)
data.frame(surveys_200) = surveys[1:200, ]
surveys[1:200, ]
## 1)
surveys_200 <- surveys[200, ]
## 2)
n_rows <- nrow(surveys)
surveys_last <- surveys[n_rows, ]
## 3)
surveys_middle <- surveys[n_rows / 2, ]
## 4)
surveys_head <- surveys[-(7:n_rows), ]
surveys_200 <- surveys[200, ]
n_rows <- nrow(surveys)
surveys_last <- surveys[n_rows, ]
surveys_middle <- surveys[n_rows / 2, ]
surveys_head <- surveys[-(7:n_rows), ]
plot(as.factor(surveys$sex))
levels(sex)[2:3] <- c("female", "male")
sex <- factor(sex, levels = c("female", "male", "undetermined"))
plot(sex)
levels(sex)[2:3] <- c("female", "male")
sex <- factor(sex, levels = c("female", "male", "undetermined"))
plot(sex)
plot(as.factor(surveys$sex))
sex <- factor(surveys$sex)
head(sex)
levels(sex)[1] <- "undetermined"
levels(sex)[2:3] <- c("female", "male")
sex <- factor(sex, levels = c("female", "male", "undetermined"))
plot(sex)
sex <- factor(surveys$sex)
head(sex)
levels(sex)
levels(sex)[1] <- "undetermined"
levels(sex)[2:3] <- c("female", "male")
sex <- factor(sex, levels = c("female", "male", "undetermined"))
plot(sex)
sex <- factor(surveys$sex)
head(sex)
levels(sex)
levels(sex)[1] <- "undetermined"
levels(sex)[2:3] <- c("female", "male")
sex <- factor(sex, levels = c("female", "male", "undetermined"))
plot(sex)
levels(sex)
levels(sex)[1] <- "undetermined"
levels(sex)
surveys <- read.csv("portal_data_joined.csv", stringsAsFactors = TRUE)
str(surveys)
surveys$plot_type <- factor(surveys$plot_type)
## 1)
animal_data <- data.frame(
animal = c("dog", "cat", "sea cucumber", "sea urchin"),
feel = c("furry", "cute", "squishy", "spiny"),
weight = c(45, 8, 1.1, 0.8)
)
## 2)
country_climate <- data.frame(
country = c("Canada", "Panama", "South Africa", "Australia"),
climate = c("cold", "hot", "temperate", "hot/temperate"),
temperature = c(10, 30, 18, 15),
northern_hemisphere = c(TRUE, TRUE, FALSE, "FALSE"),
has_kangaroo = c(FALSE, FALSE, FALSE, TRUE)
)
str(surveys)
library("lubridate")
my_date <- ymd("2015-01-01")
str(my_date)
paste(surveys$year, surveys$month, surveys$day, sep = "-")
ymd(paste(surveys$year, surveys$month, surveys$day, sep = "-"))
str(surveys)
summary(surveys$date)
str(surveys)
library("lubridate")
my_date <- ymd("2015-01-01")
str(my_date)
my_date <- ymd(paste("2015", "1", "1", sep = "-"))
str(my_date)
paste(surveys$year, surveys$month, surveys$day, sep = "-")
ymd(paste(surveys$year, surveys$month, surveys$day, sep = "-"))
str(surveys)
summary(surveys$date)
surveys$date <- ymd(paste(surveys$year, surveys$month, surveys$day, sep = "-"))
str(surveys)
summary(surveys$date)
missing_dates <- surveys[is.na(surveys$date), c("year", "month", "day")]
head(missing_dates)
## 1)
surveys_200 <- surveys[200, ]
## 2)
n_rows <- nrow(surveys)
surveys_last <- surveys[n_rows, ]
## 3)
surveys_middle <- surveys[n_rows / 2, ]
## 4)
surveys_head <- surveys[-(7:n_rows), ]
download.file(url = "https://ndownloader.figshare.com/files/2292169",
destfile = "C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
surveys <- read.csv("data_raw/portal_data_joined.csv")
head(surveys)
View(surveys)
str(surveys)
surveys_200 <- surveys[200, ]
n_rows <- nrow(surveys)
surveys_last <- surveys[n_rows, ]
surveys_middle <- surveys[n_rows / 2, ]
surveys_head <- surveys[-(7:n_rows), ]
download.file(url = "https://ndownloader.figshare.com/files/2292169",
destfile = "C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
surveys <- read.csv("C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
head(surveys)
View(surveys)
str(surveys)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
surveys <- read_csv("C:/Users/eliaj/OneDrive/Documents/UMass/portal_data_joined.csv")
## inspect the data
str(surveys)
## preview the data
View(surveys)
surveys_sml <- surveys %>%
filter(weight < 5) %>%
select(species_id, sex, weight)
surveys_sml
surveys_hindfoot_cm <- surveys %>%
filter(!is.na(hindfoot_length)) %>%
mutate(hindfoot_cm = hindfoot_length / 10) %>%
filter(hindfoot_cm < 3) %>%
select(species_id, hindfoot_cm)
surveys %>%
group_by(sex) %>%
summarize(mean_weight = mean(weight, na.rm = TRUE))
count(sex)
surveys %>%
count(sex)
# 1.
surveys %>%
count(plot_type)
# 2.
surveys %>%
filter(!is.na(hindfoot_length)) %>%
group_by(species_id) %>%
summarize(
mean_hindfoot_length = mean(hindfoot_length),
min_hindfoot_length = min(hindfoot_length),
max_hindfoot_length = max(hindfoot_length),
n = n()
)
# 3.
surveys %>%
filter(!is.na(weight)) %>%
group_by(year) %>%
filter(weight == max(weight)) %>%
select(year, genus, species, weight) %>%
arrange(year)
surveys_hindfoot_cm <- surveys %>%
filter(!is.na(hindfoot_length)) %>%
mutate(hindfoot_cm = hindfoot_length / 10) %>%
filter(hindfoot_cm < 3) %>%
select(species_id, hindfoot_cm)
surveys_spread_genera <- surveys %>%
group_by(plot_id, year) %>%
summarize(n_genera = n_distinct(genus)) %>%
spread(year, n_genera)
# 1.
surveys_spread_genera <- surveys %>%
group_by(plot_id, year) %>%
summarize(n_genera = n_distinct(genus)) %>%
spread(year, n_genera)
head(surveys_spread_genera)
# 2.
surveys_spread_genera %>%
gather("year", "n_genera", -plot_id)
# 3.
surveys_long <- surveys %>%
gather("measurement", "value", hindfoot_length, weight)
# 4.
surveys_long %>%
group_by(year, measurement, plot_type) %>%
summarize(mean_value = mean(value, na.rm=TRUE)) %>%
spread(measurement, mean_value)
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
dim(surveys_complete)
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "data/surveys_complete.csv"))
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "C:/Users/eliaj/OneDrive/Documents/UMass/data/surveys_complete.csv"))
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "C:/Users/eliaj/OneDrive/Documents/UMass/data/surveys_complete.csv")
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "C:/Users/eliaj/OneDrive/Documents/UMass/surveys_complete.csv")
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "UMass/surveys_complete.csv")
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "C:/Users/eliaj/OneDrive/Documents/UMass/surveys_complete.csv")
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "C:/Users/eliaj/OneDrive/Documents/UMass)
surveys_complete <- surveys %>%
filter(!is.na(weight),
!is.na(hindfoot_length),
!is.na(sex))
species_counts <- surveys_complete %>%
count(species_id) %>%
filter(n >= 50)
surveys_complete <- surveys_complete %>%
filter(species_id %in% species_counts$species_id)
write.csv(surveys_complete, path = "C:/Users/eliaj/OneDrive/Documents/UMass/surveys_complete.csv)
library(tidyverse)
library(tidyverse)
library(magrittr)
library(dplyr)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(magrittr)
library(dplyr)
